(function(b){b.extend(b.fn,{swapClass:function(a,b){var f=this.filter("."+a);this.filter("."+b).removeClass(b).addClass(a);f.removeClass(a).addClass(b);return this},replaceClass:function(a,b){return this.filter("."+a).removeClass(a).addClass(b).end()},hoverClass:function(a){a=a||"hover";return this.hover(function(){b(this).addClass(a)},function(){b(this).removeClass(a)})},heightToggle:function(a,b){a?this.animate({height:"toggle"},a,b):this.each(function(){jQuery(this)[jQuery(this).is(":hidden")?
"show":"hide"]();b&&b.apply(this,arguments)})},heightHide:function(a,b){a?this.animate({height:"hide"},a,b):(this.hide(),b&&this.each(b))},prepareBranches:function(b){b.prerendered||(this.filter(":last-child:not(ul)").addClass(a.last),this.filter((!1!==b.collapsed?"":"."+a.closed)+":not(."+a.open+")").find(">ul").hide());return this.filter(":has(>ul)")},applyClasses:function(c,d){this.filter(":has(>ul):not(:has(>a))").find(">span").unbind("click.treeview").bind("click.treeview",function(a){d.apply(b(this).next())}).add(b("a",
this)).hoverClass();if(!c.prerendered){this.filter(":has(>ul:hidden)").addClass(a.expandable).replaceClass(a.last,a.lastExpandable);this.not(":has(>ul:hidden)").addClass(a.collapsable).replaceClass(a.last,a.lastCollapsable);var f=this.find("div."+a.hitarea);f.length||(f=this.prepend('<div class="'+a.hitarea+'"/>').find("div."+a.hitarea));f.removeClass().addClass(a.hitarea).each(function(){var a="";b.each(b(this).parent().attr("class").split(" "),function(){a+=this+"-hitarea "});b(this).addClass(a)})}this.find("div."+
a.hitarea).click(d)},treeview:function(c){function d(c,d){function e(d){return function(){f.apply(b("div."+a.hitarea,c).filter(function(){return d?b(this).parent("."+d).length:!0}));return!1}}b("a:eq(0)",d).click(e(a.collapsable));b("a:eq(1)",d).click(e(a.expandable));b("a:eq(2)",d).click(e())}function f(){b(this).parent().find(">.hitarea").swapClass(a.collapsableHitarea,a.expandableHitarea).swapClass(a.lastCollapsableHitarea,a.lastExpandableHitarea).end().swapClass(a.collapsable,a.expandable).swapClass(a.lastCollapsable,
a.lastExpandable).find(">ul").heightToggle(c.animated,c.toggle);c.unique&&b(this).parent().siblings().find(">.hitarea").replaceClass(a.collapsableHitarea,a.expandableHitarea).replaceClass(a.lastCollapsableHitarea,a.lastExpandableHitarea).end().replaceClass(a.collapsable,a.expandable).replaceClass(a.lastCollapsable,a.lastExpandable).find(">ul").heightHide(c.animated,c.toggle)}function e(){var a=[];l.each(function(d,c){a[d]=b(c).is(":has(>ul:visible)")?1:0});b.cookie(c.cookieId,a.join(""),c.cookieOptions)}
function h(){var a=b.cookie(c.cookieId);if(a){var d=a.split("");l.each(function(a,c){b(c).find(">ul")[parseInt(d[a])?"show":"hide"]()})}}c=b.extend({cookieId:"treeview"},c);if(c.toggle){var g=c.toggle;c.toggle=function(){return g.apply(b(this).parent()[0],arguments)}}this.data("toggler",f);this.addClass("treeview");var l=this.find("li").prepareBranches(c);switch(c.persist){case "cookie":var m=c.toggle;c.toggle=function(){e();m&&m.apply(this,arguments)};h();break;case "location":var k=this.find("a").filter(function(){return 0==
location.href.toLowerCase().indexOf(this.href.toLowerCase())});k.length&&(k=k.addClass("selected").parents("ul, li").add(k.next()).show(),c.prerendered&&k.filter("li").swapClass(a.collapsable,a.expandable).swapClass(a.lastCollapsable,a.lastExpandable).find(">.hitarea").swapClass(a.collapsableHitarea,a.expandableHitarea).swapClass(a.lastCollapsableHitarea,a.lastExpandableHitarea))}l.applyClasses(c,f);c.control&&(d(this,c.control),b(c.control).show());return this}});b.treeview={};var a=b.treeview.classes=
{open:"open",closed:"closed",expandable:"expandable",expandableHitarea:"expandable-hitarea",lastExpandableHitarea:"lastExpandable-hitarea",collapsable:"collapsable",collapsableHitarea:"collapsable-hitarea",lastCollapsableHitarea:"lastCollapsable-hitarea",lastCollapsable:"lastCollapsable",lastExpandable:"lastExpandable",last:"last",hitarea:"hitarea"}})(jQuery);
(function(b){function a(a,c,e,h){function g(a){a=b("<li/>").attr("id",this.id||"").html("<span>"+this.text+"</span>").appendTo(a);this.classes&&a.children("span").addClass(this.classes);this.expanded&&a.addClass("open");if(this.hasChildren||this.children&&this.children.length){var c=b("<ul/>").appendTo(a);this.hasChildren&&(a.addClass("hasChildren"),g.call({classes:"placeholder",text:"&nbsp;",children:[]},c));this.children&&this.children.length&&b.each(this.children,g,[c])}}b.ajax(b.extend(!0,{url:a.url,
dataType:"json",data:{root:c},success:function(a){e.empty();b.each(a,function(){g.call(this,e)});b(h).treeview({add:e})}},a.ajax))}var c=b.fn.treeview;b.fn.treeview=function(d){if(!d.url)return c.apply(this,arguments);d.root||(d.root="source");var f=this;f.children().size()||a(d,d.root,this,f);var e=d.toggle;return c.call(this,b.extend({},d,{collapsed:!0,toggle:function(){var c=b(this);c.hasClass("hasChildren")&&(c=c.removeClass("hasChildren").find("ul").first(),a(d,this.id,c,f));e&&e.apply(this,
arguments)}}))}})(jQuery);
(function(b){var a=b.treeview.classes,c=b.fn.treeview;b.fn.treeview=function(d){d=b.extend({},d);return d.add?this.trigger("add",[d.add]):d.remove?this.trigger("remove",[d.remove]):c.apply(this,arguments).bind("add",function(c,e){b(e).prev().removeClass(a.last).removeClass(a.lastCollapsable).removeClass(a.lastExpandable).find(">.hitarea").removeClass(a.lastCollapsableHitarea).removeClass(a.lastExpandableHitarea);b(e).find("li").andSelf().prepareBranches(d).applyClasses(d,b(this).data("toggler"))}).bind("remove",
function(c,d){var h=b(d).prev(),g=b(d).parent();b(d).remove();h.filter(":last-child").addClass(a.last).filter("."+a.expandable).replaceClass(a.last,a.lastExpandable).end().find(">.hitarea").replaceClass(a.expandableHitarea,a.lastExpandableHitarea).end().filter("."+a.collapsable).replaceClass(a.last,a.lastCollapsable).end().find(">.hitarea").replaceClass(a.collapsableHitarea,a.lastCollapsableHitarea);g.is(":not(:has(>))")&&g[0]!=this&&(g.parent().removeClass(a.collapsable).removeClass(a.expandable),
g.siblings(".hitarea").andSelf().remove())})}})(jQuery);